class Solution:
    def isSymmetric(self, r):
        def f(a,b):
            if not a and not b:return True
            if not a or not b:return False
            return a.val==b.val and f(a.left,b.right) and f(a.right,b.left)
        return f(r,r)
